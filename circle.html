<!DOCTYPE html>
<html>
<head>
	<title>Circle</title>
	<script type="text/javascript" src="assests/js/paper-full.min.js"></script>
	<link rel="stylesheet" type="text/css" href="assests/css/circle.css">
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.0.14/howler.core.min.js"></script>
	<script type="text/paperscript" canvas="myCanvas">
var keyData = {
	a: {
    color: "purple",
    sound: new Howl({
    	src: ['sounds/bubbles.mp3']
    	})

    },
    b: {
    color: "blue",
    sound: new Howl({
    	src: ['sounds/clay.mp3']
    	})

    },
    c: {
    color: "green",
    sound: new Howl({
    	src: ['sounds/corona.mp3']
    	})

    },
    d: {
    color: "red",
    sound: new Howl({
    	src: ['sounds/confetti.mp3']
    	})
	},
	e: {
    color: "gray",
    sound: new Howl({
    	src: ['sounds/bubbles.mp3']
    	})

    },
    f: {
    color: "pink",
    sound: new Howl({
    	src: ['sounds/moon.mp3']
    	})

    },
    g: {
    color: "brown",
    sound: new Howl({
    	src: ['sounds/flash-2.mp3']
    	})

    },
    h: {
    color: "red",
    sound: new Howl({
    	src: ['sounds/flash-1.mp3']
    	})
	}
}


var circles = []; 



//http://paperjs.org/reference/size/	

function onKeyDown(event) {

	if(keyData[event.key]){

	// When a key is pressed, set the content of the text item:
	var maxPoint = new Point(view.size.width, view.size.height);
	var randomPoint = Point.random();
	var point  = maxPoint * randomPoint;
	var newCircle = new Path.Circle(point, 500);

	newCircle.fillColor = keyData[event.key].color;
	keyData[event.key].sound.play();
	circles.push(newCircle);
	
	}
	

}



function onFrame(event) {
	// Each frame, change the fill color of the path slightly by
	// adding 1 to its hue:
	
	
	for (var i = 0 ; i < circles.length; i++){
	 
	 circles[i].fillColor.hue += 1;
	 circles[i].scale(.9); 

	 if(circles[i].area < 1){
      	circles[i].remove(); // remove the circle from the canvas
      	circles.splice(i, 1); // remove the circle from the array
      	i--; // decrement i so that the loop doesn't skip a circle because of .splice()
      	console.log(circles);
	
		}


	}

	//animatedCircle.fillColor.hue += 1;
	


}

</script>
</head>
<body>
	<canvas id="myCanvas" resize></canvas>
</body>
</html>